@import url('https://fonts.googleapis.com/css2?family=Archivo+Black&family=Bowlby+One+SC&display=swap');

*,
::before,
::after {
  box-sizing: border-box;
}

:root {
  --primary-color: #0037a3;
  --title-filter : drop-shadow(0 3px 0 #FF4A4A) drop-shadow(0 3px 0 #D73333) drop-shadow(0 2px 0 #CA3F3F) drop-shadow(0 5px 0 #0041BF) drop-shadow(0 -5px 0 #0041BF) drop-shadow(5px 0 0 #0041BF) drop-shadow(-5px 0 0 #0041BF) drop-shadow(0 5px 0 #fff) drop-shadow(0 -5px 0 #fff) drop-shadow(5px 0 0 #fff) drop-shadow(-5px 0 0 #fff) drop-shadow(0 3px 6px rgba(0, 0, 0, 0.3333333333));
  --title-font   : 'Bowlby One SC', sans-serif;
  --question-font: 'Archivo Black', sans-serif;
  --body-font    : 'BBC Reith Sans', sans-serif;
}

.feather,
.feather-icon {
  display        : inline-block;
  fill           : none;
  flex           : 0 0 1em;
  height         : 1em;
  min-width      : 1em;
  stroke         : currentColor;
  stroke-linecap : round;
  stroke-linejoin: round;
  stroke-width   : 2px;
  width          : 1em;
}

body {
  color              : white;
  font-family        : var(--body-font);
  margin             : 0;
  min-height         : 100vh;
  padding            : 1rem;
  background-image   : radial-gradient(circle at top center, #739AFF, #0047FF);
  background-position: top center;
  background-repeat  : no-repeat;
  background-size    : cover;
}

body:not(.no-cover) {
  --crown-size       : clamp(2rem, 15vw, 10rem);
  background-image   : url("/assets/images/crown.png"), radial-gradient(circle at top center, #739AFF, #0047FF);
  background-position: top center;
  background-repeat  : no-repeat;
  background-size    : var(--crown-size), cover;
  padding-block-start: var(--crown-size);
}

h1 {
  align-items: center;
  display    : flex;
  font-family: "Bowlby One SC", sans-serif;
  font-size  : clamp(1rem, 7vw, 4rem);
  font-style : normal;
  font-weight: 400;
  gap        : 3rem;
  margin     : 0;
  text-align : center;
}

h1 span {
  background-image: linear-gradient(to bottom, #FFE175, #FFC194);
  color           : transparent;
  background-clip : text;
  filter          : drop-shadow(0 3px 0 #FF4A4A) drop-shadow(0 3px 0 #D73333) drop-shadow(0 2px 0 #CA3F3F) drop-shadow(0 5px 0 #0041BF) drop-shadow(0 -5px 0 #0041BF) drop-shadow(5px 0 0 #0041BF) drop-shadow(-5px 0 0 #0041BF) drop-shadow(0 5px 0 #fff) drop-shadow(0 -5px 0 #fff) drop-shadow(5px 0 0 #fff) drop-shadow(-5px 0 0 #fff) drop-shadow(0 3px 6px #0005);
}

h1::before,
h1::after {
  aspect-ratio     : 1/1;
  background-image : url('/assets/images/flaglets.png');
  background-repeat: no-repeat;
  background-size  : cover;
  content          : '';
  display          : block;
  height           : auto;
  width            : clamp(2rem, 15vw, 6rem);
}

main {
  display: grid;
}

header {
  display       : flex;
  flex-direction: column;
  align-items   : center;
}

.logo {
  border        : 2px solid var(--primary-color);
  color         : var(--primary-color);
  display       : flex;
  font-family   : "BBC Reith Sans XBold", sans-serif;
  font-weight   : 900;
  text-transform: uppercase;
  width         : fit-content;
}

.logo>* {
  align-items: center;
  display    : flex;
  padding    : 0.5ch;
}

.icon svg {
  aspect-ratio: 1/1;
  width       : auto;
  height      : 1rem;
}

.logo .type {
  font-size       : 1rem;
  font-weight     : 900;
  color           : white;
  background-color: var(--primary-color);
  line-height     : 1;
  align-items     : center;
}

.logo .type span {
  position: relative;
  bottom  : -0.2ch;
}

form {
  align-items          : center;
  display              : grid;
  gap                  : 1rem;
  grid-template-columns: repeat(3, auto);
  margin               : auto;
  padding-block-start  : 5ch;
  width                : fit-content;
}

form h2 {
  grid-column: 1/-1;
  margin     : 0;
  line-height: 1;
  text-align : center;
}

input:is([type="text"], [type="password"]) {
  border       : none;
  border-radius: 5px;
  padding      : 0.5ch 1ch;
}

button {
  background-color: #ffce87;
  border          : none;
  border-radius   : 5px;
  box-shadow      : 0 2px 4px rgba(0, 0, 0, .2);
  cursor          : pointer;
  font-size       : inherit;
  font-weight     : bold;
  padding         : 1ch 1.5ch;
  container-type  : inline-size;
  display         : flex;
  flex-wrap       : wrap;
  justify-content : center;
  flex            : 1;
  align-items     : baseline;
  gap             : 1ch;

  @media (width < 100ch) {
    padding: 2ch 2ch;

    .button__label {
      display: none;
    }
  }
}

table {
  background-color  : #fff1;
  border-collapse   : collapse;
  border-radius     : 16px;
  margin            : auto;
  overflow          : hidden;
  margin-block-start: 5ch;
  width             : min(90%, 75ch);
}

thead {
  background-color: #0003;
}

th,
td {
  padding   : 0.5ch 1ch;
  text-align: center;
}

thead th {
  text-transform: uppercase;
  font-family   : 'BBC Reith Sans XBold';
}

tbody tr:nth-child(2n) {
  background-color: #fff1;
}

#ui_winners li::marker {
  color: transparent;
}

#ui_winners {
  margin       : 0;
  padding      : 0;
  width        : min(75%, 100ch);
  margin-inline: auto;
}

#ui_winners li {
  display         : flex;
  gap             : 1rem;
  align-items     : center;
  background-image: radial-gradient(ellipse at center, #FFE175, #FFC194);
  border-radius   : 1000px;
  padding-inline  : 3ch;
  padding-block   : 0.3ch;
  box-shadow      : 0 0 8px rgba(0, 0, 0, .3333333333), 0 0 0 16px #fff, 0 0 24px rgba(0, 0, 0, .3333333333);
  margin-block    : 3rem;
  font-family     : 'Bowlby One SC', sans-serif;
  text-transform  : uppercase;
}

.ribbon {
  height      : 8rem;
  width       : auto;
  margin-block: -2rem;
}

.prize,
.winner,
.score {
  background-image: linear-gradient(to bottom, #FF4A4A, #b40001AA);
  color           : transparent;
  background-clip : text;
}

.prize {
  font-size: 3rem;
}

.winner {
  display: grid;
}

.winner-name {
  font-size: 2rem;
}

.score {
  margin-inline-start: auto;
  font-size          : 1.5rem;
}

.app {
  display              : grid;
  grid-template-columns: 2fr 1fr;
}

.sidebar iframe {
  border-radius     : 1rem;
  height            : 90vh;
  margin-block-start: 1rem;
  position          : sticky;
  top               : 1rem;
  width             : 100%;
}

.link {
  text-align      : center;
  margin-inline   : auto;
  grid-column     : 1/-1;
  color           : transparent;
  background-image: linear-gradient(to bottom, #FFE175, #FFC194);
  background-clip : text;
  box-shadow      : none;
  border          : none;
  display         : inline;
  font            : inherit;
  padding         : 0;
}

@keyframes spin {
  to {
    rotate: 360deg
  }
}

.loading {
  padding-inline-start: 0.25ch;
}

.loading::before {
  content                 : '';
  display                 : inline-block;
  width                   : 1.5ch;
  height                  : auto;
  aspect-ratio            : 1/1;
  border                  : 3px solid #0005;
  margin-inline-end       : var(--gap);
  --gap                   : 0.25ch;
  border-radius           : 100%;
  border-block-start-color: #000;
  box-sizing              : border-box;
  animation               : spin 1000ms infinite;
}



/* Inline #1 | http://localhost:8080/quiz/ */

.quiz-list li {
  list-style      : none;
  background-color: #fff2;
}

.quiz-list li:nth-child(2n) {
  background-color: #fffa;
}

.quiz-list {
  overflow     : hidden;
  margin-inline: auto;
  width        : min(75ch, 90%);
  border-radius: 6px;
  padding      : 0;
  margin-block : 5ch;
}

.quiz-list a {
  font-size      : 1.6rem;
  padding-inline : 2ch;
  padding-block  : 0.5ch;
  display        : block;
  color          : white;
  text-decoration: none;
}

.quiz-list a:hover {
  text-decoration: underline;
}

body:has(.slide-container) {
  display: grid;

  &.cover {
    background-size: 10rem, 100%;
  }
}

.title {
  text-align      : center;
  place-self      : start;
  font-size       : clamp(1rem, 5vw, 4rem);
  font-family     : var(--title-font);
  filter          : var(--title-filter);
  color           : rgba(0, 0, 0, 0);
  background-image: linear-gradient(to bottom, #FFE175, #FFC194);
  background-clip : text;
  margin-inline   : auto;
}

.slide:has(.question) {
  grid-template-rows: 1fr min-content;
}

.question {
  font-family          : var(--question-font);
  text-align           : center;
  font-size            : clamp(1rem, 3vw, 3rem);
  display              : grid;
  grid-template-columns: auto 1fr;
  grid-auto-rows       : min-content;
  row-gap              : .8em;
  padding-inline       : 10vw;
  place-self           : center;
  width                : 90vw;

  p {
    grid-column: 2/3;
    margin     : 0;
  }

  @media (width > 100ch) {
    font-size: clamp(2rem, 2vw, 4rem);
  }
}

.choices {
  margin    : 1rem;
  place-self: end center;
  display   : grid;
  gap       : 1rem;

  @media (width > 100ch) {
    grid-template-columns: 1fr 1fr;
    grid-template-rows   : 1fr 1fr;
  }

  &.for-display {
    grid-template-columns: initial;
    grid-template-rows   : initial;

    button {
      pointer-events: none;
    }
  }

  button {
    font-size    : 2rem;
    font-family  : var(--question-font);
    color        : #fff;
    background   : none;
    box-shadow   : none;
    border       : 2px solid;
    border-radius: 0;
    display      : flex;
    place-content: center;

    @media (width < 100ch) {
      font-size: 1.25rem;
    }
  }
}

.choices button:is(.correct, .wrong)::after {
  aspect-ratio       : 1/1;
  background-position: center;
  background-repeat  : no-repeat;
  background-size    : contain;
  content            : "";
  height             : auto;
  position           : absolute;
  right              : 0;
  top                : 0;
  transform          : translateX(50%) translateY(-50%);
  width              : 5ch;
}

.choices button.correct {
  background-color: hsl(100 100% 40%);
  border-color    : hsl(100 100% 40%);
  position        : relative;

  &::after {
    background-image: url("/assets/images/check.png");
  }
}

.choices button.wrong {
  background-color: #c33;
  border-color    : #c33;
  position        : relative;

  &::after {
    background-image: url("/assets/images/wrong.png");
  }
}

.slide-container:not(.start) .slide--question,
.slide-container.start .slide--cover {
  display: none;
}

body.admin {
  position           : relative;
  padding-block-start: calc(1lh + 2ch);
}

body.admin::before {
  background-color: #fd0;
  color           : #710;
  content         : 'You are the admin for this game';
  left            : 0;
  padding         : 1ch;
  padding-inline  : 5ch;
  position        : fixed;
  right           : 0;
  text-align      : center;
  top             : 0;
  z-index         : 999;
}

body:not(.admin) .admin {
  display: none;
}

.commands {
  display        : flex;
  flex-direction : row;
  gap            : 1rem;
  justify-content: end;
  left           : 0;
  position       : fixed;
  right          : 0;
  top            : 3rem;
  z-index        : 999;
  padding        : 1ch;
}

.choices button.correct-for-admin:not(.correct) {
  border-color: #4c0;
  outline     : 2px solid #4c0;
  color       : #7e0;
}

.answer {
  background-color: #0e51ff;
  border-radius   : 1em;
  color           : #fff;
  font-family     : var(--question-font);
  font-size       : 1.5rem;
  line-height     : 1.5;
  max-height      : 90vh;
  outline         : 10px solid rgba(255, 255, 255, 0.6666666667);
  overflow        : visible;
  padding         : 1em;
  position        : relative;
  text-align      : center;
  width           : 70%;
  place-content   : center;

  &:popover-open {
    display: grid;
  }

  @media (width < 100ch) {
    width        : 100%;
    height       : 100%;
    overflow     : auto;
    max-height   : none;
    border-radius: 0;
    border       : none;
  }

  &::before {
    aspect-ratio       : 1/1;
    background-image   : url("/assets/images/fyi.png");
    background-position: center;
    background-repeat  : no-repeat;
    background-size    : contain;
    content            : '';
    height             : 10ch;
    left               : 0;
    position           : absolute;
    top                : 0;
    transform          : translate(-50%, -50%);
    width              : auto;

    @media (width < 100ch) {
      position     : static;
      transform    : none;
      margin-inline: auto;
    }
  }
}

#dont-answer-here {
  animation           : popover 300ms ease-in;
  animation-play-state: paused;
  background-color    : #fd0;
  border              : none;
  border-radius       : 1rem;
  color               : #431;
  font-family         : var(--question-font);
  font-size           : 1.25rem;
  margin-block-end    : 0;
  margin-block-start  : 1rem;
  margin-inline       : 1rem;
  outline             : 8px solid #fffa;
  padding             : 1ch 0.5ch;
  text-align          : center;
  transition          : display 0ms 300ms;

  &:popover-open {
    animation-play-state: running;
  }
}

@keyframes popdown {
  to {
    transform: translateY(calc(-100% - 1rem - 8px));
  }
}

.main .commands {
  position: static;
}

.panes .slide-container {
  min-height: 0;
}

.panes {
  margin            : -1rem;
  display           : grid;
  grid-template-rows: 3fr 5fr;

  @media (width > 100ch) {
    grid-template-columns: minmax(55ch, 4fr) minmax(45ch, 1fr);
    grid-template-rows   : 1fr;
    max-width            : 100vw;
    overflow             : hidden;

    .secondary {
      grid-column: 2/3;
      grid-row   : 1/2;
    }

    .main {
      grid-column: 1/2;
      grid-row   : 1/2;
    }
  }

  @at-root body.admin & {
    margin-block-start: 0;
  }

  .main {
    display           : grid;
    grid-template-rows: auto 1fr;

    @at-root body:not(.admin) & {
      .slide-container {
        grid-row: 1/-1;
      }
    }
  }
}

#ui_multibuzz {
  width : 100%;
  height: 100%;
}

.panes .choices {
  grid-template-rows   : 1fr 1fr;
  grid-template-columns: 1fr 1fr;
  width                : 100%;
  padding-inline       : 1rem;
}

.slide {
  display      : grid;
  place-content: center;
  height       : 100%;
}

.panes .question {
  padding-inline: 5vw;
  width         : auto;
}

#dont-answer-here {
  bottom: 1rem;
  top   : auto;
}